<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio of Luka Trenchovski, Freelance Music Producer & Graphic Designer">
    <meta name="keywords" content="Music Production, Graphic Design, Portfolio, Luka Trenchovski">
    <meta name="author" content="Luka Trenchovski">

    <!-- Open Graph tags for better social media sharing -->
    <meta property="og:title" content="Luka Trenchovski - Portfolio">
    <meta property="og:description" content="Explore the portfolio of Luka Trenchovski, a skilled music producer and graphic designer.">
    <meta property="og:url" content="http://lukatrenchovski.com">

    <title>Luka Trenchovski - Portfolio</title>
    <link rel="icon" type="image/x-icon" href="logo-circle.png">
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Navbar with ARIA labels -->
    <nav class="bg-white bg-opacity-80 shadow dark:bg-gray-900 dark:bg-opacity-80 fixed w-full top-0 z-50 transition-all duration-300" aria-label="Main Navigation">
        <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="nav-container w-full flex justify-between items-center">
                    <div class="nav-links hidden sm:ml-6 sm:flex sm:space-x-8">
                        <a href="#home" class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium dark:text-white navbar nohover" aria-label="Home">Home</a>
                        <a href="#about" class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium dark:text-white navbar nohover" aria-label="About Me">About Me</a>
                        <a href="#portfolio" class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium dark:text-white navbar nohover" aria-label="Portfolio">Portfolio</a>
                        <a href="#contact" class="text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium dark:text-white navbar nohover" aria-label="Contact">Contact</a>
                    </div>
                    <button id="theme-toggle" class="text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-300 p-2 rounded-md navbar nohover">
                        <svg id="theme-toggle-light-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8-9h-1M4 12H3m14.364-5.364l-.707.707M6.343 6.343l-.707.707M18.364 18.364l-.707-.707M6.343 17.657l-.707-.707M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <svg id="theme-toggle-dark-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8-9h-1M4 12H3m14.364-5.364l-.707.707M6.343 6.343l-.707.707M18.364 18.364l-.707-.707M6.343 17.657l-.707-.707M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>


    <script>
        const navbar = document.querySelector('nav');
        const stickyClass = 'sticky';

        window.addEventListener('resize', function() {
            const musicPlayer = document.getElementById('music-player');
            canvas.width = musicPlayer.offsetWidth;
            canvas.height = musicPlayer.offsetHeight;
        });
    </script>


    <!-- Style the home section with a background image -->
    <style>
        #home::before {
            height: 100vh; /* Full viewport height */
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: -90px;
            background-image: url('logo.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            background-repeat: no-repeat;
            filter: blur(60px);
            z-index: -1;
            background-position: 50% 50%; /* Initial position */
            transition: background-position 1s ease; /* Smooth transition for movement */
        }
    </style>

    <!-- Home Section with proper alt attributes -->
    <section id="home" class="bg-cover bg-center h-screen" aria-label="Home section with background image of music related content and logo">
        <div class="flex items-center justify-center h-full bg-black bg-opacity-50">
            <div class="text-center">
                <h1 class="text-4xl font-bold text-white">Luka Trenchovski</h1>
                <p class="text-xl text-gray-300 mt-4">Freelance Music Producer & Graphic Designer</p>
            </div>
        </div>
    </section>

    <!-- About Me Section -->
    <section id="about" class="py-20 bg-white">
        <div class="max-w-5xl mx-auto text-center section-fade">
            <h2 class="text-3xl font-bold text-indigo-900">About Me</h2>
            <p class="mt-4 text-lg text-gray-700">I am a creative and versatile <strong> Music Producer</strong> with over <strong>5 years of experience</strong>, <br> specializing in <Strong><em></em>Rap</Strong>, <Strong>R&B</Strong>, and <Strong>Electronic</Strong> music production. <br> I also have experience in the <strong>Graphic Design</strong> field for <strong>5+ years</strong>. <br> Passionate about blending musical styles to create unique and engaging listening experiences. <br> <br> I'm always open to collaboration, feel free to contact me.</p>
            <div class="mt-8 flex flex-col sm:flex-row sm:justify-around">
                <div>
                    <h3 class="text-xl font-bold text-indigo-900">Education</h3>
                    <ul class="mt-2 text-gray-700">
                        <strong>
                            <li>BA (Hons) Music Production and Sound Engineering</li>
                        </strong>
                    </ul>
                </div>
                <div class="mt-8 sm:mt-0">
                    <h3 class="text-xl font-bold text-indigo-900">Skills/Services</h3>
                    <ul class="mt-2 text-gray-700">
                        <strong>
                            <li>Music Production</li>
                            <li>Mixing</li>
                            <li>Sound Design</li>
                            <li>Graphic Design</li>
                            <li>Photo Editing and Restoration</li>
                        </strong>
                    </ul>
                </div>
            </div>
        </div>
    </section>


    <!-- Portfolio Section with improved responsiveness -->
    <section id="portfolio" class="py-20 bg-gray-100 " style="background-color:#1e2533;">
        <div class="max-w-7xl mx-auto text-center ">
            <h2 class="text-3xl font-bold text-white">Portfolio</h2>
            <div class="mt-10 grid grid-cols-1 sm:grid-cols-2 gap-8">
                <!-- Portfolio items with alt attributes -->
                <div class="bg-white shadow-lg rounded-lg overflow-hidden portfolio-item">
                    <a href="design-gallery.html">
                    <img src="images/gd.jpg" alt="Graphic Design Project - AsterFest International Film Festival" class="w-full h-48 object-cover">
                    </a>
                    <div class="p-6">
                        <a href="design-gallery.html" class="font-bold text-indigo-600">Graphic design</a>
                        <p class="text-gray-700 mt-2">Created graphic designs for promotional materials.</p>
                    </div>
                </div>
                <div class="bg-white shadow-lg rounded-lg overflow-hidden portfolio-item">
                    <a href="music-production.html">
                    <img src="images/mp.jpg" alt="Music Production Project" class="w-full h-48 object-cover">
                    </a>
                    <div class="p-6">
                        <a href="music-production.html" class="font-bold text-indigo-600">Music production</a>
                        <p class="text-gray-700 mt-2">Produced original instrumental tracks in various genres.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>





    <!-- Music Player Section with Scaled Blurred Background and Rounded Corners -->
    <div class="max-w-6xl mx-auto my-8">
        <div id="music-player" class="py-20 bg-gray-100 relative overflow-hidden rounded-3xl" style="height: 800px;">
            <!-- Blurred Background Image -->
            <div class="absolute inset-0 z-0 rounded-3xl overflow-hidden">
                <img src="logo.jpg" alt="Blurred Background" class="w-full h-full object-cover filter blur-md scale-110">
                <div class="absolute inset-0 bg-black opacity-50"></div>
            </div>

            <div class="absolute inset-0 bg-black opacity-30 z-5"></div>
            




            <!-- Audio Visualizer -->
            <canvas id="visualizer" class="absolute inset-0 w-full h-full z-10"></canvas>




        <!-- Content -->
        <div class="max-w-5xl mx-auto text-center relative z-20">
            <h2 class="text-3xl font-bold text-white">Listen to My Music</h2>
            <div class="mt-10 bg-white bg-opacity-80 shadow-lg rounded-2xl p-6">
                <!-- Music Player Controls -->
                <div class="flex flex-col items-center">
                    <div id="track-title" class="text-xl font-bold text-gray-900 mb-4">Select a track to play</div>
                    <div class="flex items-center space-x-4 w-full max-w-md">
                        <button id="play-pause-button" class="bg-indigo-600 text-white p-2 rounded-full hover:bg-indigo-700 dark:bg-indigo-600 dark:hover:bg-indigo-700 focus:outline-none">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </button>
                        <div class="flex-grow flex items-center">
                            <input type="range" id="progress-bar" class="w-full rounded-lg" min="0" max="100" value="0">
                            <span id="time-display" class="ml-2 text-sm text-gray-600">0:00 / 0:00</span>
                        </div>
                        <div class="flex items-center">
                            <input type="range" id="volume-control" min="0" max="1" step="0.01" class="w-24 rounded-lg">
                            <span id="volume-display" class="ml-2 text-sm text-gray-600">100%</span>
                        </div>
                    </div>
                </div>
                <!-- Playlist -->
                <div class="mt-8">
                    <h3 class="text-lg font-bold text-indigo-600">Playlist</h3>
                    <ul id="playlist" class="mt-4 text-left">
                        <li class="cursor-pointer hover:text-indigo-600" data-track="Track 1" data-src="music/Awakening.mp3">Track 1 - Awakening</li>
                        <li class="cursor-pointer hover:text-indigo-600" data-track="Track 2" data-src="music/Initial.mp3">Track 2 - Initial</li>
                        <li class="cursor-pointer hover:text-indigo-600" data-track="Track 3" data-src="music/Soon.mp3">Track 3 - Soon</li>
                        <li class="cursor-pointer hover:text-indigo-600" data-track="Track 4" data-src="music/Space.mp3">Track 4 - Space</li>
                        <li class="cursor-pointer hover:text-indigo-600" data-track="Track 5" data-src="music/Ecliptic_Dreams.mp3">Track 5 - Ecliptic Dreams</li>
                        <li class="cursor-pointer hover:text-indigo-600" data-track="Track 6" data-src="music/Run.mp3">Track 6 - Run</li>
                        <li class="cursor-pointer hover:text-indigo-600" data-track="Track 7" data-src="music/Nightshade.mp3">Track 7 - Nightshade</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Add the scale-up class to the play button when clicked -->
    <script>
        document.getElementById('play-pause-button').addEventListener('click', function() {
            this.classList.add('scale-up'); // Add the scale-up class when clicked
        });
    </script>

    <!--Music Player JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script>
        let sound = null;
        let isPlaying = false;
        let currentTrackIndex = 0;
        const playPauseButton = document.getElementById('play-pause-button');
        const volumeControl = document.getElementById('volume-control');
        const progressBar = document.getElementById('progress-bar');
        const trackTitle = document.getElementById('track-title');
        const playlistItems = document.querySelectorAll('#playlist li');
        const timeDisplay = document.getElementById('time-display');
        const volumeDisplay = document.getElementById('volume-display');


        function loadTrack(trackIndex) {
            const trackItem = playlistItems[trackIndex];
            const trackName = trackItem.getAttribute('data-track');
            const trackSrc = trackItem.getAttribute('data-src');

            try {
                if (sound) {
                    sound.unload();
                }
                trackTitle.textContent = `Loading: ${trackName}`;
                console.log(`Loading track: ${trackSrc}`);

                sound = new Howl({
                    src: [
                        trackSrc.replace('.mp3', '.ogg'),
                        trackSrc
                    ],
                    format: ['ogg', 'mp3'],
                    preload: true,
                    volume: volumeControl.value,
                    onload: () => {
                        console.log(`Track loaded: ${trackSrc}`);
                        sound.play();
                        trackTitle.textContent = `Now playing: ${trackName}`;
                        isPlaying = true;
                        updatePlayPauseButton();
                        timeDisplay.textContent = `0:00 / ${formatTime(sound.duration())}`;
                        if (!audioContext) {
                            setupVisualizer();
                        }
                    },
                    onend: () => {
                        isPlaying = false;
                        updatePlayPauseButton();
                        playNextTrack();
                    },
                    onloaderror: (id, err) => {
                        console.error(`Error loading track: ${err}`, trackSrc);
                        trackTitle.textContent = 'Error loading track';
                    },
                    onplayerror: (id, err) => {
                        console.error(`Error playing track: ${err}`, trackSrc);
                        trackTitle.textContent = 'Error playing track';
                    }
                });
            } catch (error) {
                console.error('Unexpected error loading track:', error);
                trackTitle.textContent = 'Error loading track';
            }
        }

        function togglePlayPause() {
            if (!sound) {
                loadTrack(currentTrackIndex);
                isPlaying = true;
            } else if (sound.playing()) {
                sound.pause();
                isPlaying = false;
            } else {
                sound.play();
                isPlaying = true;
            }
            updatePlayPauseButton();
        }


        function playNextTrack() {
            currentTrackIndex = (currentTrackIndex + 1) % playlistItems.length;
            loadTrack(currentTrackIndex);
            isPlaying = true;
            updatePlayPauseButton();
        }

        function updatePlayPauseButton() {
            playPauseButton.innerHTML = isPlaying
                ? `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 512 512" fill="currentColor" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                    <g transform="translate(0, 5)"> <!-- Center the pause icon path -->
                        <path d="M224,435.8V76.1c0-6.7-5.4-12.1-12.2-12.1h-71.6c-6.8,0-12.2,5.4-12.2,12.1v359.7c0,6.7,5.4,12.2,12.2,12.2h71.6 C218.6,448,224,442.6,224,435.8z"/>
                        <path d="M371.8,64h-71.6c-6.7,0-12.2,5.4-12.2,12.1v359.7c0,6.7,5.4,12.2,12.2,12.2h71.6c6.7,0,12.2-5.4,12.2-12.2V76.1 C384,69.4,378.6,64,371.8,64z"/>
                    </g>
                </svg>`
                : `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 512 512" fill="currentColor" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                    <g transform="translate(25, 5)"> <!-- Center the play icon path -->
                        <path d="M405.2,232.9L126.8,67.2c-3.4-2-6.9-3.2-10.9-3.2c-10.9,0-19.8,9-19.8,20H96v344h0.1c0,11,8.9,20,19.8,20 c4.1,0,7.5-1.4,11.2-3.4l278.1-165.5c6.6-5.5,10.8-13.8,10.8-23.1C416,246.7,411.8,238.5,405.2,232.9z"/>
                    </g>
                </svg>`;
        }




            playPauseButton.addEventListener('click', togglePlayPause);

            volumeControl.addEventListener('input', () => {
                if (sound) {
                    sound.volume(volumeControl.value);
                }
            });

            progressBar.addEventListener('input', () => {
                if (sound) {
                    const seekTime = (progressBar.value / 100) * sound.duration();
                    sound.seek(seekTime);
                    timeDisplay.textContent = `${formatTime(seekTime)} / ${formatTime(sound.duration())}`;
                }
            });

            playlistItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    currentTrackIndex = index;
                    loadTrack(currentTrackIndex);
                });
            });

        function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = Math.floor(seconds % 60);
                return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
            }

        function updateProgressBar() {
            if (sound && sound.playing()) {
                const currentTime = sound.seek();
                const duration = sound.duration();
                const progress = (currentTime / duration) * 100;
                progressBar.value = progress;
                
                timeDisplay.textContent = `${formatTime(currentTime)} / ${formatTime(duration)}`;
            }
            requestAnimationFrame(updateProgressBar);
        }

        volumeControl.addEventListener('input', () => {
            if (sound) {
                const volumeValue = parseFloat(volumeControl.value);
                sound.volume(volumeValue);
                volumeDisplay.textContent = `${Math.round(volumeValue * 100)}%`;
            }
        });

        // Initialize volume display
        volumeDisplay.textContent = `${Math.round(volumeControl.value * 100)}%`;

            // Start updating the progress bar
            updateProgressBar();
            // Audio Visualizer
            const canvas = document.getElementById('visualizer');
            const ctx = canvas.getContext('2d');
            const glowOutline = document.querySelector('#music-player .glow-outline');
            let audioContext, analyser, dataArray, source;

            function setupVisualizer() {
                const musicPlayer = document.getElementById('music-player');
                canvas.width = musicPlayer.offsetWidth;
                canvas.height = musicPlayer.offsetHeight;

                audioContext = Howler.ctx;
                analyser = Howler.ctx.createAnalyser();
                analyser.fftSize = 256;

                const bufferLength = analyser.frequencyBinCount;
                dataArray = new Uint8Array(bufferLength);

                Howler.masterGain.connect(analyser);

                drawVisualizer();
            }

            function updateGlowEffect() {
                analyser.getByteFrequencyData(dataArray);

                // Calculate an average volume level from the frequency data
                const avgFrequency = dataArray.reduce((sum, value) => sum + value, 0) / dataArray.length;

                // Set the glow intensity based on the average frequency
                const intensity = Math.min(avgFrequency / 255, 1);  // Scale the intensity between 0 and 1
                glowOutline.style.boxShadow = `0 0 ${10 + 40 * intensity}px rgba(255, 255, 255, ${0.7 + 0.3 * intensity})`;

                requestAnimationFrame(updateGlowEffect);
            }
            function getColorForFrequency(frequency, maxFrequency) {
                // Base hue (you can adjust this to change the overall color)
                const baseHue = 240; // Blue

                // Calculate lightness based on frequency
                // Higher frequencies will result in higher lightness values
                const lightness = 50 + ((maxFrequency - frequency) / maxFrequency) * 50; // Range from 100% to 50%

                // You can adjust saturation as needed
                const saturation = 100;

                return `hsl(${baseHue}, ${saturation}%, ${lightness}%)`;
            }
            
            function drawVisualizer() {
                requestAnimationFrame(drawVisualizer);

                analyser.getByteFrequencyData(dataArray);

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const barWidth = (canvas.width / dataArray.length) * 1.5;
                let x = 0;

                for (let i = 0; i < dataArray.length; i++) {
                    const barHeight = (dataArray[i] / 255) * canvas.height * 0.7;

                    // Get color based on frequency
                    const color = getColorForFrequency(dataArray[i], 255);

                    ctx.fillStyle = color;
                    ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);

                    x += barWidth + 1;
                }
            }

            // Initialize the glow effect
            setupVisualizer();
            updateGlowEffect();

    </script>



    <!-- Contact Section with ARIA and alt attributes -->
    <section id="contact" class="py-20 bg-gray-100">
        <div class="max-w-5xl mx-auto text-center">
            <h2 class="text-3xl font-bold text-indigo-900">Contact Me</h2>
            <p class="mt-4 text-lg text-gray-700">Feel free to reach out to discuss potential collaborations or projects.</p>
            <form id="contact-form" action="https://formspree.io/f/meojdelv" method="POST" class="mt-8">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <input type="text" name="name" placeholder="Your Name" class="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-600" aria-label="Your Name" required>
                    <input type="email" name="email" placeholder="Your Email" class="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-600" aria-label="Your Email" required>
                </div>
                <textarea name="message" rows="5" placeholder="Your Message" class="mt-4 px-4 py-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-indigo-600" aria-label="Your Message" required></textarea>
                <button type="submit" id="submit-btn" class="mt-4 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-900" aria-label="Send Message">Send Message</button>
            </form>




            <div id="result" class="mt-4 text-center hidden"></div>

            <script>
                const form = document.getElementById('contact-form');
                const result = document.getElementById('result');
                const submitButton = document.getElementById('submit-btn');

                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    submitButton.disabled = true;
                    submitButton.textContent = 'Sending...';
                    result.classList.add('hidden');

                    fetch(form.action, {
                        method: form.method,
                        body: new FormData(form),
                        headers: {
                            'Accept': 'application/json'
                        }
                    })
                    .then(response => response.json())
                    .then(data => {
                        result.innerHTML = 'Thank you! Your message has been sent.';
                        result.classList.remove('hidden');
                        result.classList.add('text-green-600');
                        form.reset();
                    })
                    .catch(error => {
                        result.innerHTML = 'Oops! There was a problem submitting your form. Please try again.';
                        result.classList.remove('hidden');
                        result.classList.add('text-red-600');
                    })
                    .finally(() => {
                        submitButton.disabled = false;
                        submitButton.textContent = 'Send Message';
                    });
                });
            </script>
        </div>
    </section>

    <div class="icon-container">
        <ul class="icon-list">
            <li><a href="https://www.youtube.com/@lukatbeats7798" target="_blank"><img src="icons/youtube-icon.png" alt="YouTube"></a></li>
            <li><a href="https://www.instagram.com/lukatbeats/" target="_blank"><img src="icons/ig-icon.png" alt="Instagram"></a></li>
            <!-- Add more social media links as needed -->
        </ul>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-100 text-gray-400 py-4 text-center">
        <p>&copy; 2024 Luka Trenchovski. All Rights Reserved.</p>
    </footer>


    <script>
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
        const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');

        const enableDarkMode = () => {
            document.documentElement.classList.add('dark');
            localStorage.setItem('theme', 'dark');
            themeToggleLightIcon.classList.add('hidden');
            themeToggleDarkIcon.classList.remove('hidden');
        };

        const disableDarkMode = () => {
            document.documentElement.classList.remove('dark');
            localStorage.setItem('theme', 'light');
            themeToggleLightIcon.classList.remove('hidden');
            themeToggleDarkIcon.classList.add('hidden');
        };

        // Load user preference or detect system preference
        if (localStorage.getItem('theme') === 'dark' ||
            (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            enableDarkMode();
        } else {
            disableDarkMode();
        }

        themeToggleBtn.addEventListener('click', () => {
            if (document.documentElement.classList.contains('dark')) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        });

        document.addEventListener("DOMContentLoaded", function() {
            // Set the correct initial play/pause button state when the page loads
            updatePlayPauseButton();

            // Initialize Play/Pause Button Events
            playPauseButton.addEventListener('click', togglePlayPause);

            volumeControl.addEventListener('input', () => {
                if (sound) {
                    sound.volume(volumeControl.value);
                }
            });

            progressBar.addEventListener('input', () => {
                if (sound) {
                    const seekTime = (progressBar.value / 100) * sound.duration();
                    sound.seek(seekTime);
                    timeDisplay.textContent = `${formatTime(seekTime)} / ${formatTime(sound.duration())}`;
                }
            });

            playlistItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    currentTrackIndex = index;
                    loadTrack(currentTrackIndex);
                });
            });

            // Initialize volume display
            volumeDisplay.textContent = `${Math.round(volumeControl.value * 100)}%`;

            // Start updating the progress bar
            updateProgressBar();

            // Sections fade-in effect (re-adding it)
            const sections = document.querySelectorAll('.section-fade');
            const sectionObserver = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        // Optionally, remove the observer to avoid multiple animations
                        sectionObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 }); // Adjust the threshold as needed

            sections.forEach(section => sectionObserver.observe(section));
        });




    </script>


</body>
</html>





